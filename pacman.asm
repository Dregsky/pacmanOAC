.eqv VGA_BASE 0xFF000000
.eqv X 320 # 320 - 10
.eqv Y 240 # 240 - 10

.data
	map_vetor: .byte 0x00,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x99,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x99,0x99,0xFF,0x99,0x99,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x99,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x99,0xFF,0x99,0x99,0xFF,0x99,0x99,0x99,0xFF,0x99,0x99,0xFF,0x99,0x99,0xFF,0x99,0x99,0x99,0xFF,0x99,0x99,0xFF,0x99,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x99,0xFA,0x99,0x99,0xFF,0x99,0x99,0x99,0xFF,0x99,0x99,0xFF,0x99,0x99,0xFF,0x99,0x99,0x99,0xFF,0x99,0x99,0xFA,0x99,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x99,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x99,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x99,0xFF,0x99,0x99,0xFF,0x99,0xFF,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0xFF,0x99,0xFF,0x99,0x99,0xFF,0x99,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x99,0xFF,0xFF,0xFF,0xFF,0x99,0xFF,0xFF,0xFF,0x99,0x99,0x99,0x99,0x99,0xFF,0xFF,0xFF,0x99,0xFF,0xFF,0xFF,0xFF,0x99,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x99,0x99,0x99,0x99,0xFF,0x99,0x99,0x99,0x00,0x99,0x99,0x99,0x99,0x99,0x00,0x99,0x99,0x99,0xFF,0x99,0x99,0x99,0x99,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x99,0xFF,0x99,0x99,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x99,0x99,0xFF,0x99,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x99,0xFF,0x99,0x99,0x00,0x99,0x99,0xAD,0xAD,0xAD,0x99,0x99,0x00,0x99,0x99,0xFF,0x99,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x99,0xFF,0x99,0x99,0x00,0x99,0x99,0x00,0x00,0x00,0x99,0x99,0x00,0x99,0x99,0xFF,0x99,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x99,0xFF,0x00,0x00,0x00,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x00,0x00,0x00,0xFF,0x99,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x99,0xFF,0x99,0x99,0x00,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x00,0x99,0x99,0xFF,0x99,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x99,0xFF,0x99,0x99,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x99,0x99,0xFF,0x99,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x99,0x99,0x99,0x99,0xFF,0x99,0x99,0xFF,0x99,0x99,0x99,0xFF,0x99,0x99,0x99,0xFF,0x99,0x99,0xFF,0x99,0x99,0x99,0x99,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x99,0xFA,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x99,0x99,0xFF,0x99,0x99,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFA,0x99,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x99,0xFF,0x99,0x99,0xFF,0x99,0x99,0x99,0xFF,0x99,0x99,0xFF,0x99,0x99,0xFF,0x99,0x99,0x99,0xFF,0x99,0x99,0xFF,0x99,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x99,0xFF,0xFF,0x99,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x99,0xFF,0xFF,0x99,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x99,0x99,0xFF,0x99,0xFF,0x99,0xFF,0x99,0x99,0x99,0x99,0xFF,0x99,0x99,0x99,0x99,0xFF,0x99,0xFF,0x99,0xFF,0x99,0x99,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x99,0x99,0xFF,0x99,0xFF,0x99,0xFF,0x99,0x99,0x99,0x99,0xFF,0x99,0x99,0x99,0x99,0xFF,0x99,0xFF,0x99,0xFF,0x99,0x99,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x99,0xFF,0xFF,0xFF,0xFF,0x99,0xFF,0xFF,0xFF,0x99,0x99,0xFF,0x99,0x99,0xFF,0xFF,0xFF,0x99,0xFF,0xFF,0xFF,0xFF,0x99,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x99,0xFF,0x99,0x99,0x99,0x99,0x99,0x99,0xFF,0x99,0x99,0xFF,0x99,0x99,0xFF,0x99,0x99,0x99,0x99,0x99,0x99,0xFF,0x99,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x99,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x99,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x99,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
	quadrado_preto: .byte 0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0,0x0
	quadrado_cinza: .byte 0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD,0xAD
	#
	layer_comida: .byte 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
	layer_comidona: .byte 0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x00,0x00,0x00,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x00,0x00,0x00,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x00,0x00,0x00,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0xFF,0xFF,0xFF,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
	#	
	pac_man_yellow_open_right: .byte 0x0,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x0,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x0,0x0,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x0,0x0,0x0,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x0,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x0,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x0
	pac_man_yellow_open_left: .byte 0x0,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x0,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x0,0x0,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x0,0x0,0x0,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x0,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x0,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x0
	pac_man_yellow_open_down: .byte 0x0,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x0,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x0,0x0,0x3F,0x3F,0x3F,0x0,0x3F,0x3F,0x0,0x0,0x0,0x0,0x3F,0x3F,0x0,0x0,0x0,0x3F,0x0,0x0,0x0,0x0,0x3F,0x0,0x0
	pac_man_yellow_open_top: .byte 0x0,0x0,0x3F,0x0,0x0,0x0,0x0,0x3F,0x0,0x0,0x0,0x3F,0x3F,0x0,0x0,0x0,0x0,0x3F,0x3F,0x0,0x3F,0x3F,0x3F,0x3F,0x0,0x0,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x0,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x0
	pac_man_yellow_close: .byte 0x0,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x0,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x0,0x0,0x3F,0x3F,0x3F,0x3F,0x3F,0x3F,0x0,0x0
	#
	pac_man_red_open_right: .byte 0x0,0x0,0x07,0x07,0x07,0x07,0x07,0x07,0x0,0x0,0x0,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x0,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x0,0x0,0x07,0x07,0x07,0x07,0x07,0x07,0x0,0x0,0x0,0x0,0x07,0x07,0x07,0x07,0x07,0x0,0x0,0x0,0x0,0x0,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x0,0x0,0x0,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x0,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x0,0x0,0x0,0x07,0x07,0x07,0x07,0x07,0x07,0x0,0x0
	pac_man_red_open_left: .byte 0x0,0x0,0x07,0x07,0x07,0x07,0x07,0x07,0x0,0x0,0x0,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x0,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x0,0x0,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x0,0x0,0x0,0x0,0x07,0x07,0x07,0x07,0x07,0x07,0x0,0x0,0x0,0x0,0x0,0x07,0x07,0x07,0x07,0x07,0x0,0x0,0x0,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x0,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x0,0x0,0x0,0x07,0x07,0x07,0x07,0x07,0x07,0x0,0x0
	pac_man_red_open_down: .byte 0x0,0x0,0x07,0x07,0x07,0x07,0x07,0x07,0x0,0x0,0x0,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x0,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x0,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x0,0x0,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x0,0x0,0x0,0x07,0x07,0x07,0x0,0x07,0x07,0x0,0x0,0x0,0x0,0x07,0x07,0x0,0x0,0x0,0x07,0x0,0x0,0x0,0x0,0x07,0x0,0x0
	pac_man_red_open_top: .byte 0x0,0x0,0x07,0x0,0x0,0x0,0x0,0x07,0x0,0x0,0x0,0x07,0x07,0x0,0x0,0x0,0x0,0x07,0x07,0x0,0x07,0x07,0x07,0x07,0x0,0x0,0x0,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x0,0x0,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x0,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x0,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x0,0x0,0x0,0x07,0x07,0x07,0x07,0x07,0x07,0x0,0x0
	pac_man_red_close: .byte 0x0,0x0,0x07,0x07,0x07,0x07,0x07,0x07,0x0,0x0,0x0,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x0,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x0,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x07,0x0,0x0,0x0,0x07,0x07,0x07,0x07,0x07,0x07,0x0,0x0
	#
	ghost_green: .byte 0x0,0x0,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x0,0x0,0x0,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x0,0x2A,0x2A,0xFF,0x2A,0x2A,0x2A,0x2A,0xFF,0x2A,0x2A,0x2A,0xFF,0x0,0xFF,0x2A,0x2A,0xFF,0x0,0xFF,0x2A,0x2A,0xFF,0xFF,0x2A,0x2A,0x2A,0x2A,0xFF,0xFF,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0xFF,0x2A,0x2A,0xFF,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0xFF,0xFF,0x2A,0x2A,0x2A,0x2A,0x2A,0x2A,0x0,0x2A,0x2A,0x2A,0x2A,0x0,0x2A,0x2A,0x2A,0x0,0x0,0x0,0x2A,0x2A,0x0,0x0,0x0,0x2A
	ghost_pink: .byte 0x0,0x0,0x87,0x87,0x87,0x87,0x87,0x87,0x0,0x0,0x0,0x87,0x87,0x87,0x87,0x87,0x87,0x87,0x87,0x0,0x87,0x87,0xFF,0x87,0x87,0x87,0x87,0xFF,0x87,0x87,0x87,0xFF,0x0,0xFF,0x87,0x87,0xFF,0x0,0xFF,0x87,0x87,0xFF,0xFF,0x87,0x87,0x87,0x87,0xFF,0xFF,0x87,0x87,0x87,0x87,0x87,0x87,0x87,0x87,0x87,0x87,0x87,0x87,0x87,0x87,0xFF,0x87,0x87,0xFF,0x87,0x87,0x87,0x87,0x87,0x87,0x87,0xFF,0xFF,0x87,0x87,0x87,0x87,0x87,0x87,0x0,0x87,0x87,0x87,0x87,0x0,0x87,0x87,0x87,0x0,0x0,0x0,0x87,0x87,0x0,0x0,0x0,0x87
	ghost_blue: .byte 0x0,0x0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0x0,0x0,0x0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0x0,0xC0,0xC0,0xFF,0xC0,0xC0,0xC0,0xC0,0xFF,0xC0,0xC0,0xC0,0xFF,0x0,0xFF,0xC0,0xC0,0xFF,0x0,0xFF,0xC0,0xC0,0xFF,0xFF,0xC0,0xC0,0xC0,0xC0,0xFF,0xFF,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xFF,0xC0,0xC0,0xFF,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0xFF,0xFF,0xC0,0xC0,0xC0,0xC0,0xC0,0xC0,0x0,0xC0,0xC0,0xC0,0xC0,0x0,0xC0,0xC0,0xC0,0x0,0x0,0x0,0xC0,0xC0,0x0,0x0,0x0,0xC0
	
	ERRO_PONTO: .asciiz "Ponto fora do limite\n"

.text

MAIN:  
	jal MAPA
	#jal TESTE_RETA
	#jal loop
	jal START
	# Close the file 
	j EXIT
	
EXIT:	li $v0, 10
	syscall
		
MAPA:
	addi $sp,$sp,-4
	sw $ra,0($sp)
	la $s0,map_vetor
	li $s1,0
	li $s2,0
	la $s3,X
	la $s4,Y
while_mapa:
	beq $s2,$s4,exit_map	
	beq $s1,$s3,reseta_x
	move $a0,$s1
	move $a1,$s2
	lbu $a2,0($s0)
	jal DESENHO_ESCOLHA
	addi $s0,$s0,1
	addi $s1,$s1,10
	j while_mapa
reseta_x:
	li $s1,0
	addi $s2,$s2,10
	j while_mapa
exit_map:
	lw $ra,0($sp)
	addi $sp,$sp,4
	jr $ra

# $a0 = x , $a1 = y, a2 = desenho
DESENHO_ESCOLHA:
	addi $sp,$sp,-4
	sw $ra,0($sp)
	beq $a2,0xFF,desenho_comida
	beq $a2,0xFA,desenho_comidona
	move $a3,$a2
	li $a2,-1					# indica que o procedimento print_desenho deverá printar da variavel e não da memoria
	jal PRINT_DESENHO
	j return_desenho_escolha
	#
desenho_comida:
	li $a2,0					# indica que o procedimento print_desenho deverá printar da memoria	
	la $a3,layer_comida
	jal PRINT_DESENHO
	j return_desenho_escolha
	#
desenho_comidona:
	li $a2,0					# indica que o procedimento print_desenho deverá printar da memoria
	la $a3,layer_comidona
	jal PRINT_DESENHO
	j return_desenho_escolha
	#
return_desenho_escolha:	
	lw $ra,0($sp)
	addi $sp,$sp,4
	jr $ra
# $a0 = x, $a1 = y, $a3 = endereco_inicio_desenho, $a2 indicador se ler da memoria ou de constante	
PRINT_DESENHO:
	addi $sp,$sp,-32
	sw $ra,28($sp)
	sw $s0,24($sp)
	sw $s1,20($sp)
	sw $s2,16($sp)
	sw $s3,12($sp)
	sw $s4,8($sp)
	sw $s5,4($sp)
	sw $s6,0($sp)
		
	move $s0,$a3
	move $s1,$a0					# $s1 = x inicio
	move $s2,$a1 					# $s2 = y inicio
	addi $s3,$a0,10					# $s3 = x + 10 (x final)
	addi $s4,$a1,10					# $s4 = y + 10 (x final)
	move $s5,$s1
	move $s6,$a2					# $s6 = $a2 (indicador ler da memoria ou de constante)
while_desenho:
	beq $s2,$s4,exit_desenho	
	beq $s1,$s3,reseta_x_desenho
	move $a0,$s1
	move $a1,$s2
	bne $s6,-1,ler_memoria_desenho			# se não é -1 e devemos ler da memoria
	move $a2,$s0					# $a2 = $s0	
	j ponto_desenho					
ler_memoria_desenho:	
	lbu $a2,0($s0)
	addi $s0,$s0,1
ponto_desenho:
	jal PONTO
	addi $s1,$s1,1
	j while_desenho
reseta_x_desenho:
	move $s1,$s5 					# restaura x 
	addi $s2,$s2,1
	j while_desenho
exit_desenho:
	lw $ra,28($sp)
	lw $s0,24($sp)
	lw $s1,20($sp)
	lw $s2,16($sp)
	lw $s3,12($sp)
	lw $s4,8($sp)
	lw $s5,4($sp)
	lw $s6,0($sp)
	addi $sp,$sp,32
	jr $ra

#$a0 = x, $a1 =y , $a2 = cor	
PONTO: 	la $t0, VGA_BASE
	la $t2, X
	la $t3, Y
	slt $t4,$a0,$t2 			# a0 < $t2(X)
	beqz $t4,ponto_fora_limite
	slt $t4,$a1,$t3 			# a1 < $t3(Y)
	beqz $t4,ponto_fora_limite
	mul $t1, $a1, $t2 			# $t1 = $a1(y) * 320; 
	add $t1, $t1, $a0 			# $t1 = $t1($a1(y) * 320) + $a0(x); 
	add $t0, $t0, $t1 			# $t0 = 0xFF000000 + y * 320 + x
	sb $a2, 0($t0) 				# salva $a2 (cor) no byte que $t0 corresponde.
	addi $v0,$zero,0
	jr $ra
ponto_fora_limite:
	addi $v0,$zero,4 			# x ou y estão fora do limite
	la $a0, ERRO_PONTO
	syscall
	j EXIT
	
START:  
	addi $sp,$sp,-4
	sw $ra,0($sp)
	li $t0, 0xffff
	jal init_pac_yellow
	jal init_pac_red
	jal start_ghost
loop_ready_tecla:
	mtc0 $0, $9				# Reinicia o campo em ms
	jal stop_50
	lw $t1, 0xff100000		        # Busca se há interrupção no teclado
	andi $t1, $t1, 0x1			# Verifica o byte ready
    	addi $t0,$zero,-1               	# Decrementa o contado do clico
    	j check_key
    	#bnez $t0, loop_ready_tecla
	#beqz $a0, move_ghost           	# Se não a interrupção do teclado move só os fantasmas
                                    		# solos a los fantasmas
        lw $ra,0($sp)
        addi $sp,$sp,52
        jr $ra
    	
check_key:
    	mtc0 $0, $9
    	bnez $t1, load_key			# Se houve interrupção do teclado
    	li $s7,-1				# Indica $s7 não clicado
    	j moves_check
load_key:
	lw $s5, 0xff100004			# Carrega a tecla pressionada
    	#
    	li $s7,0x3F    				# Indica $s7 clicado pac yellow
    	li $t1, 0x61				# Carrega a tecla 'a'
    	beq $t1, $s5, moves_check
    	li $t1, 0x64                		# Carrega a tecla 'd' para verificar se foi a pressionada
	beq $t1, $s5, moves_check
	li $t1, 0x77                		# Carrega a tecla 'w' para verificar se foi a pressionada
	beq $t1, $s5, moves_check
	li $t1, 0x73                		# Carrega a tecla 's' para verificar se foi a pressionada
	beq $t1, $s5, moves_check
	#
	li $s7,0x07				# Indica $s7 clicado pac red
	li $t1, 0x66				# Carrega a tecla 'f'
    	beq $t1, $s5, moves_check
    	li $t1, 0x68                		# Carrega a tecla 'h' 
	beq $t1, $s5, moves_check
	li $t1, 0x74                		# Carrega a tecla 't' 
	beq $t1, $s5, moves_check
	li $t1, 0x67                		# Carrega a tecla 'g' 
	beq $t1, $s5, moves_check
	
moves_check:
	move $s6,$s5				# Guarda valor de $s5 em $s6
    	jal move_pac_yellow
    	move $s5,$s6				# Restaura valor de $s5
    	jal move_pac_red
    	jal move_ghosts
    	#
    	li $t1, 0x71                    	# Carrega a tecla 'q' para sair
    	beq $t1, $t2, EXIT
    	j loop_ready_tecla

	     
init_pac_yellow:
	addi $sp,$sp,-16
	li $s0,20 				# x inicial pac yellow e
	li $s1,220				# y inicial pac yellow
	li $t1, 0x64                		# Carrega a tecla 'd' direita
	sw $s0,0($sp)				# empilha x
	sw $s1,4($sp)				# empilha y
	sw $zero,8($sp)				# escore pac
	sw $t1,12($sp)
	addi $sp,$sp,-4
	sw $ra,0($sp)
	move $a0,$s0
	move $a1,$s1
	la $a3,pac_man_yellow_open_right
	jal PRINT_DESENHO
	lw $ra,0($sp)
	addi $sp,$sp,4
	jr $ra

init_pac_red:
	addi $sp,$sp,-16
	li $s0,220 				# x inicial pac red e
	li $s1,220				# y inicial pac red
	li $t1, 0x66				# Carrega a tecla 'f' esquerda
	sw $s0,0($sp)				# empilha x
	sw $s1,4($sp)				# empilha y
	sw $zero,8($sp)	
	sw $t1,12($sp)				# escore pac
	addi $sp,$sp,-4
	sw $ra,0($sp)
	move $a0,$s0
	move $a1,$s1
	la $a3,pac_man_red_open_left
	jal PRINT_DESENHO
	lw $ra,0($sp)
	addi $sp,$sp,4
	jr $ra
			
move_pac_yellow:
	addi $s4,$sp,40				# guarda em $s4 o inicio de x do pac yellow 24(8 de cada fantasma) + 16 do pac_red
	lw $s0,0($s4)
	lw $s1,4($s4)
	seq $t1,$s7,0x3f			# Verifica se $s7 = yellow	
	bnez $t1,continue_pac_yellow		# Não clicado
	lw $s5,12($s4)				# carrega a ultima tecla apertada
continue_pac_yellow:				# atualiza o valor para ultima tecla apertada
	addi $sp,$sp,-4
	sw $ra,0($sp) 
	li $t1, 0x61				# Carrega a tecla 'a' para verificar se foi a pressionada
	la $s2,pac_man_yellow_open_left		# Carrega o desenho do pac pra esquerda aberto
	la $s3,pac_man_yellow_close		# Carrega o desenho do pac fechado
	beq $t1, $s5, move_left
    	#
    	li $t1, 0x64                		# Carrega a tecla 'd' para verificar se foi a pressionada
	la $s2,pac_man_yellow_open_right	# Carrega o desenho do pac pra direita aberto
	la $s3,pac_man_yellow_close		# Carrega o desenho do pac fechado
	beq $t1, $s5, move_right
	#
	li $t1, 0x77                		# Carrega a tecla 'w' para verificar se foi a pressionada
	la $s2,pac_man_yellow_open_top		# Carrega o desenho do pac pra cima aberto
	la $s3,pac_man_yellow_close		# Carrega o desenho do pac fechado
	beq $t1, $s5, move_top
	#
	li $t1, 0x73                		# Carrega a tecla 's' para verificar se foi a pressionada
	la $s2,pac_man_yellow_open_down		# Carrega o desenho do pac pra baixo aberto
	la $s3,pac_man_yellow_close		# Carrega o desenho do pac fechado
	beq $t1, $s5, move_down	
	# 
	j return_move

move_pac_red:
	addi $s4,$sp,24				# guarda em $s4 o inicio de x do pac red 24(8 de cada fantasma)
	lw $s0,0($s4)
	lw $s1,4($s4)
	seq $t1,$s7,0x07			# Verifica se $s7 = red
	bnez $t1,continue_pac_red
	lw $s5,12($s4)				# carrega a ultima tecla apertada
continue_pac_red:
	addi $sp,$sp,-4
	sw $ra,0($sp) 
	li $t1, 0x66				# Carrega a tecla 'f' para verificar se foi a pressionada
	la $s2,pac_man_red_open_left		# Carrega o desenho do pac pra esquerda aberto
	la $s3,pac_man_red_close		# Carrega o desenho do pac pra esquerda fechado
	beq $t1, $s5, move_left
    	#
    	li $t1, 0x68                		# Carrega a tecla 'h' para verificar se foi a pressionada
	la $s2,pac_man_red_open_right		# Carrega o desenho do pac pra direita aberto
	la $s3,pac_man_red_close		# Carrega o desenho do pac pra direita fechado
	beq $t1, $s5, move_right
	#
	li $t1, 0x74                		# Carrega a tecla 't' para verificar se foi a pressionada
	la $s2,pac_man_red_open_top		# Carrega o desenho do pac pra cima aberto
	la $s3,pac_man_red_close		# Carrega o desenho do pac pra cima fechado
	beq $t1, $s5, move_top
	#
	li $t1, 0x67                		# Carrega a tecla 'g' para verificar se foi a pressionada
	la $s2,pac_man_red_open_down		# Carrega o desenho do pac pra baixo aberto
	la $s3,pac_man_red_close		# Carrega o desenho do pac pra baixo fechado
	beq $t1, $s5, move_down	
	# 
	j return_move
	
return_move:
	lw $ra,0($sp)
	addi $sp,$sp,4
	jr $ra
		    
move_right:
 	move $a0,$s0
 	move $a1,$s1
 	addi $a0,$a0,10
 	jal VERIFICA_POSSIBILIDADE
 	sw $s5,12($s4)				# atualiza o valor para ultima tecla apertada
 	move $a0,$s0
 	move $a1,$s1
	la $a3,quadrado_preto 			# reset quadrado
	jal PRINT_DESENHO
	addi $s0,$s0,5
	move $a0,$s0
	move $a1,$s1
	move $a3,$s3 				# $s3 contem o desenho respectivo 
	jal PRINT_DESENHO
	li $a0,200
	li $v0,32
	syscall
	move $a0,$s0
	move $a1,$s1
	la $a3,quadrado_preto 			# reset quadrado
	jal PRINT_DESENHO
	addi $s0,$s0,5
	move $a0,$s0
	move $a1,$s1
	move $a3,$s2				# $s2 contem o desenho respectivo
	jal PRINT_DESENHO
	sw $s0,0($s4)
	sw $s1,4($s4)
	j return_move
	
move_left:
	move $a0,$s0
 	move $a1,$s1
 	addi $a0,$a0,-10
 	jal VERIFICA_POSSIBILIDADE
 	sw $s5,12($s4)				# atualiza o valor para ultima tecla apertada
 	move $a0,$s0
 	move $a1,$s1
	la $a3,quadrado_preto 			# reset quadrado
	jal PRINT_DESENHO
	addi $s0,$s0,-8
	move $a0,$s0
	move $a1,$s1
	move $a3,$s3 				# $s3 contem o desenho respectivo 
	jal PRINT_DESENHO
	li $a0,200
	li $v0,32
	syscall
	move $a0,$s0
	move $a1,$s1
	la $a3,quadrado_preto 			# reset quadrado
	jal PRINT_DESENHO
	addi $s0,$s0,-2
	move $a0,$s0
	move $a1,$s1
	move $a3,$s2				# $s2 contem o desenho respectivo
	jal PRINT_DESENHO
	sw $s0,0($s4)
	sw $s1,4($s4)
	j return_move	 

move_top:
	move $a0,$s0
 	move $a1,$s1
 	addi $a1,$a1,-10
 	jal VERIFICA_POSSIBILIDADE
 	sw $s5,12($s4)				# atualiza o valor para ultima tecla apertada
 	move $a0,$s0
 	move $a1,$s1
	la $a3,quadrado_preto 			# reset quadrado
	jal PRINT_DESENHO
	addi $s1,$s1,-8
	move $a0,$s0
	move $a1,$s1
	move $a3,$s3 				# $s3 contem o desenho respectivo 
	jal PRINT_DESENHO
	li $a0,200
	li $v0,32
	syscall
	move $a0,$s0
	move $a1,$s1
	la $a3,quadrado_preto 			# reset quadrado
	jal PRINT_DESENHO
	addi $s1,$s1,-2
	move $a0,$s0
	move $a1,$s1
	move $a3,$s2				# $s2 contem o desenho respectivo
	jal PRINT_DESENHO
	sw $s0,0($s4)
	sw $s1,4($s4)
	j return_move
	
move_down:
	move $a0,$s0
 	move $a1,$s1
 	addi $a1,$a1,10
 	jal VERIFICA_POSSIBILIDADE
 	sw $s5,12($s4)				# atualiza o valor para ultima tecla apertada
 	move $a0,$s0
 	move $a1,$s1
	la $a3,quadrado_preto 			# reset quadrado
	jal PRINT_DESENHO
	addi $s1,$s1,8
	move $a0,$s0
	move $a1,$s1
	move $a3,$s3 				# $s3 contem o desenho respectivo 
	jal PRINT_DESENHO
	li $a0,200
	li $v0,32
	syscall
	move $a0,$s0
	move $a1,$s1
	la $a3,quadrado_preto 			# reset quadrado
	jal PRINT_DESENHO
	addi $s1,$s1,2
	move $a0,$s0
	move $a1,$s1
	move $a3,$s2				# $s2 contem o desenho respectivo
	jal PRINT_DESENHO
	sw $s0,0($s4)
	sw $s1,4($s4)
	j return_move

#$a0 = x, $a1 = y
VERIFICA_POSSIBILIDADE: 	
	addi $sp,$sp,-12
	sw $ra,8($sp)
	sw $s0,4($sp)
	sw $s1,0($sp)
	jal possibilidade_ponto
	move $s0,$a0
	move $s1,$a1
	addi $a0,$s0,-1
	jal possibilidade_ponto 		# testa o ponto (x-1,y)
	move $a1,$s1
	addi $a0,$s0,1				
	jal possibilidade_ponto			# testa o ponto (x+1,y)
	move $a0,$s0
	addi $a1,$s1,-1
	jal possibilidade_ponto			# testa o ponto (x,y-1)
	move $a0,$s0
	addi $a1,$s1,1
	jal possibilidade_ponto			# testa o ponto (x,y+1)
	lw $s1,0($sp)
	lw $s0,4($sp)
	lw $ra,8($sp)
	addi $sp,$sp,12
	jr $ra
	
#a0 = x, $a1 = y				
possibilidade_ponto:
	la $t0, VGA_BASE
	la $t2, X
	la $t3, Y
	mul $t1, $a1, $t2 			# $t1 = $a1(y) * 320; 
	add $t1, $t1, $a0 			# $t1 = $t1($a1(y) * 320) + $a0(x); 
	add $t0, $t0, $t1 			# $t0 = 0xFF000000 + y * 320 + x
	lbu $t4, 0($t0) 			# carrega $t4 (cor) no byte que $t0 corresponde.
	beqz $t4,possivel
	seq $t0,$t4,0xFF			# $t0 = 1 se $t4 = 0xFF
	bnez $t0,possivel			# $t0 = 1 vai para possivel
	lw $s1,0($sp)
	lw $s0,4($sp)
	lw $ra,8($sp)
	addi $sp,$sp,12
	addi $v0,$zero,4 			# x ou y estão fora do limite
	la $a0, ERRO_PONTO
	syscall
	j return_move				# se chegar aqui, $t4(cor da posicao) não é preto (0x0) ou branco (0xFF)
possivel:
	jr $ra

start_ghost:
	move $s6,$ra
	jal start_ghost_green
	jal start_ghost_pink
	jal start_ghost_blue
	jr $s6
	
start_ghost_green:
	addi $sp,$sp,-8
	li $a0,110
	li $a1,90
	la $a3,ghost_green
	sw $a0,0($sp)
	sw $a1,4($sp)
	addi $sp,$sp,-4
	sw $ra,0($sp)
	jal PRINT_DESENHO
	lw $ra,0($sp)
	addi $sp,$sp,4
	jr $ra
	
start_ghost_pink:
	addi $sp,$sp,-8
	li $a0,120
	li $a1,90
	la $a3,ghost_pink
	sw $a0,0($sp)
	sw $a1,4($sp)
	addi $sp,$sp,-4
	sw $ra,0($sp)
	jal PRINT_DESENHO
	lw $ra,0($sp)
	addi $sp,$sp,4
	jr $ra
		
start_ghost_blue:
	addi $sp,$sp,-8
	li $a0,130
	li $a1,90
	la $a3,ghost_blue
	sw $a0,0($sp)
	sw $a1,4($sp)
	addi $sp,$sp,-4
	sw $ra,0($sp)
	jal PRINT_DESENHO
	lw $ra,0($sp)
	addi $sp,$sp,4
	jr $ra

move_ghosts:
	addi $sp,$sp,-4
	sw $ra,0($sp)
	jal move_ghost_pink
	jal move_ghost_green
	jal move_ghost_blue
	lw $ra,0($sp)
	addi $sp,$sp,4
	jr $ra
	
move_ghost_pink:
	addi $s4,$sp,12				# 8 bits ghost blue + 4 bits do $sp que guarda o ra do procedimento que chama ess
	lw $s0,0($s4)
	lw $s1,4($s4)
	addi $sp,$sp,-4
	sw $ra,0($sp)
	seq $t0,$s0,111
	beqz $t0,return_move			# se $t0 for zero $s0 já não é 101 e ele sai
	seq $t1,$s1,103
	beq $t0,$t1,move_ghost_pink_init	# chegou aqui $t0 = 1 se $t1 = 1 o fantasma ta no ponto inicial
	j return_move

move_ghost_green:
	addi $s4,$sp,20				# 16 bits ghost pink e blue(8 de cada) + 4 bits do $sp que guarda o ra do procedimento que chama ess
	lw $s0,0($s4)
	lw $s1,4($s4)
	addi $sp,$sp,-4
	sw $ra,0($sp)
	seq $t0,$s0,101
	beqz $t0,return_move			# se $t0 for zero $s0 já não é 101 e ele sai
	seq $t1,$s1,103
	beq $t0,$t1,move_ghost_green_init	# chegou aqui $t0 = 1 se $t1 = 1 o fantasma ta no ponto inicial
	j return_move
	
move_ghost_blue:
	addi $s4,$sp,4				# 4 bits do $sp que guarda o ra do procedimento que chama ess
	lw $s0,0($s4)
	lw $s1,4($s4)
	addi $sp,$sp,-4
	sw $ra,0($sp)
	seq $t0,$s0,121
	beqz $t0,return_move			# se $t0 for zero $s0 já não é 101 e ele sai
	seq $t1,$s1,103
	beq $t0,$t1,move_ghost_blue_init	# chegou aqui $t0 = 1 se $t1 = 1 o fantasma ta no ponto inicial
	j return_move

move_ghost_pink_init:
	move $a0,$s0
 	move $a1,$s1
 	la $s3,ghost_pink 
	la $a3,quadrado_preto 			# reset quadrado
	jal PRINT_DESENHO
	#
	addi $s1,$s1,-10
	move $a0,$s0
	move $a1,$s1
	move $a3,$s3 				# $s3 contem o desenho respectivo 
	jal PRINT_DESENHO
	# timeout
	#
	move $a0,$s0
	move $a1,$s1
	la $a3,quadrado_cinza 			# reset quadrado
	jal PRINT_DESENHO
	#
	addi $s1,$s1,-10
	move $a0,$s0
	move $a1,$s1
	move $a3,$s3 				# $s3 contem o desenho respectivo 
	jal PRINT_DESENHO
	# timeout
	#
	move $a0,$s0
	move $a1,$s1
	la $a3,quadrado_preto 			# reset quadrado
	jal PRINT_DESENHO
	#
	addi $s0,$s0,-5
	move $a0,$s0
	move $a1,$s1
	move $a3,$s3 				# $s3 contem o desenho respectivo 
	jal PRINT_DESENHO
	# timeout
	#
	move $a0,$s0
	move $a1,$s1
	la $a3,quadrado_preto 			# reset quadrado
	jal PRINT_DESENHO
	#
	addi $s0,$s0,-10
	move $a0,$s0
	move $a1,$s1
	move $a3,$s3 				# $s3 contem o desenho respectivo 
	jal PRINT_DESENHO
	move $s2,$s3
	j move_left	
	
move_ghost_green_init:
	move $a0,$s0
 	move $a1,$s1
 	la $s3,ghost_green 
	la $a3,quadrado_preto 			# reset quadrado
	jal PRINT_DESENHO
	#
	addi $s0,$s0,10
	move $a0,$s0
	move $a1,$s1
	move $a3,$s3 				# $s3 contem o desenho respectivo 
	jal PRINT_DESENHO
	# timeouts
	#
	move $a0,$s0
	move $a1,$s1
	la $a3,quadrado_preto 			# reset quadrado
	jal PRINT_DESENHO
	#
	addi $s1,$s1,-10
	move $a0,$s0
	move $a1,$s1
	move $a3,$s3 				# $s3 contem o desenho respectivo 
	jal PRINT_DESENHO
	# timeout
	#
	move $a0,$s0
	move $a1,$s1
	la $a3,quadrado_cinza 			# reset quadrado
	jal PRINT_DESENHO
	#
	addi $s1,$s1,-10
	move $a0,$s0
	move $a1,$s1
	move $a3,$s3 				# $s3 contem o desenho respectivo 
	jal PRINT_DESENHO
	# timeout
	#
	move $a0,$s0
	move $a1,$s1
	la $a3,quadrado_preto 			# reset quadrado
	jal PRINT_DESENHO
	#
	addi $s0,$s0,5
	move $a0,$s0
	move $a1,$s1
	move $a3,$s3 				# $s3 contem o desenho respectivo 
	jal PRINT_DESENHO
	move $s2,$s3
	j move_right

move_ghost_blue_init:
	move $a0,$s0
 	move $a1,$s1
 	la $s3,ghost_blue 
	la $a3,quadrado_preto 			# reset quadrado
	jal PRINT_DESENHO
	#
	addi $s0,$s0,-10
	move $a0,$s0
	move $a1,$s1
	move $a3,$s3 				# $s3 contem o desenho respectivo 
	jal PRINT_DESENHO
	# timeout
	#
	move $a0,$s0
	move $a1,$s1
	la $a3,quadrado_preto 			# reset quadrado
	jal PRINT_DESENHO
	#
	addi $s1,$s1,-10
	move $a0,$s0
	move $a1,$s1
	move $a3,$s3 				# $s3 contem o desenho respectivo 
	jal PRINT_DESENHO
	# timeout
	#
	move $a0,$s0
	move $a1,$s1
	la $a3,quadrado_cinza 			# reset quadrado
	jal PRINT_DESENHO
	#
	addi $s1,$s1,-10
	move $a0,$s0
	move $a1,$s1
	move $a3,$s3 				# $s3 contem o desenho respectivo 
	jal PRINT_DESENHO
	# timeout
	#
	move $a0,$s0
	move $a1,$s1
	la $a3,quadrado_preto 			# reset quadrado
	jal PRINT_DESENHO
	#
	addi $s0,$s0,-5
	move $a0,$s0
	move $a1,$s1
	move $a3,$s3 				# $s3 contem o desenho respectivo 
	jal PRINT_DESENHO
	move $s2,$s3
	j move_left
			
# Contador de 0 a 50 para dar um stop no código
stop_50:
	li $t0,-150
loop_50:addi $t0,$t0,1
	slti $t1,$t0,50
	bnez $t1,loop_50	
	jr $ra	
